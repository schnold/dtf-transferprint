---
interface Props {
	title: string;
	introText?: string;
	items: Array<{
		iconPath: string; // SVG path d attribute
		title: string;
		description: string;
	}>;
	columns?: '2' | '3' | '4'; // Grid columns
}

const { title, introText, items, columns = '3' } = Astro.props;

const gridCols = {
	'2': 'md:grid-cols-2',
	'3': 'md:grid-cols-2 lg:grid-cols-3',
	'4': 'md:grid-cols-2 lg:grid-cols-4',
};

const getCardClasses = (index: number) => {
	const variants = [
		'card bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/20',
		'card bg-gradient-to-br from-secondary/10 to-secondary/5 border border-secondary/20',
		'card bg-gradient-to-br from-accent/10 to-accent/5 border border-accent/20',
		'card bg-gradient-to-br from-warning/10 to-warning/5 border border-warning/20',
		'card bg-gradient-to-br from-info/10 to-info/5 border border-info/20',
		'card bg-gradient-to-br from-success/10 to-success/5 border border-success/20',
	];
	return variants[index % variants.length];
};
---

<h2>{title}</h2>
{introText && (
	<p set:html={introText} />
)}

<div class={`use-cases-grid grid grid-cols-1 ${gridCols[columns]} gap-6 my-8`}>
	{items.map((item, index) => (
		<div class={getCardClasses(index)}>
			<div class="card-body pr-8">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="use-case-icon w-10 h-10 text-base-content mb-3">
					<path stroke-linecap="round" stroke-linejoin="round" d={item.iconPath} />
				</svg>
				<h3 class="use-case-title segment-heading text-base font-semibold mb-2">
					{item.title}
				</h3>
				<p class="text-sm">
					{item.description}
				</p>
			</div>
		</div>
	))}
</div>
